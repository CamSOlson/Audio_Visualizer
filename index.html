<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Audio Visualizer</title>
		<link href="styles/default-styles.css" type="text/css" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
		<!-- Font Awesome, a library for adding text icons without font dependence -->
		<script src="https://kit.fontawesome.com/f5d047bae8.js" crossorigin="anonymous"></script>
		<script src="./src/main.js" type="module"></script>
	</head>
	<body>
		<main>
			<canvas width="800" height="400" id="main"></canvas>

			<section id="controls">
				<section id="volumeControls">
					<button id="volumeIndicator" data-muted="false"><i class='fas fa-volume-down'></i></button>
					<input type="range" id="volumeSlider" min="0" max="2" value="0.5" step="0.01">
				</section>
				<section id="trackControls">
					<section id="playback">
						<select id="trackSelect">
							<option value="./media/Mozart Concerto No21.mp3" selected>"Mozart Concerto No. 21"</option>
							<option value="@mic">User Microphone</option>
						</select>
						<button id="playButton" data-playing="no"><i class="fas fa-play"></i></button>
					</section>
					<input type="range" id="timelineSlider" min="0" max="1" value="0" step="0.00001">
				</section>
				<section id="options">
					<button id="fullscreenButton"><i class="fas fa-expand"></i></button>
					<button id="menuButton"><i class="fas fa-bars"></i></button>
				</section>

			</section>

			<section id="menu" data-hidden="true">
				<section id="imageEffects">
					<h2>Visual Effects</h2>
					<span><input type="checkbox" id="waveformCB" checked><label for="waveformCB">Show Waveform</label></span>
					<span><input type="checkbox" id="invertCB"><label for="invertCB">Invert Colors</label></span>
					<span><input type="checkbox" id="embossCB"><label for="embossCB">Emboss</label></span>	
				</section>

				<section id="displaySettings">
					<h2>Display Settings</h2>
					<span>
						<label for="waveformCB">Spectrum Bar Speed</label>
						<input type="range" id="barSpeedSlider" min="1" max="30" value="3" step="0.01">
					</span>
					

				</section>

				<section id="audioSettings">
					<h2>Audio Effects</h2>
					<span>
						<label for="distortionSlider">Distortion</label>
						<input type="range" id="distortionSlider" min="0" max="1" value="0" step="0.01">
					</span>
					<button id="equalizerButton">Open Equalizer...</button>

				</section>

				<section id="instructions">
					<h2>Usage Tips</h2>
					<ul>
						<li>You can drag and drop an audio file anywhere on the page to play it.</li>
						<li>Clicking the volume icon will mute the playback without overwriting the current volume setting. Clicking again will return it to its previous volume.</li>
						<li>Streaming from the microphone will automatically stream from your currently selected input device.</li>
						<li>With the equalizer open, you can simply click and drag the 3 sections around with the mouse.</li>
					</ul>
					<h3>Keyboard shortcuts</h3>
					<ul>
						<li><b>[Spacebar]</b>: play/pause a track</li>
						<li><b>[Esc]</b>: open/close the menu</li>
						<li><b>[E]</b>: open/close the equalizer</li>
					</ul>
				</section>

				<section id="credits">
					<p>Created by <a target="_blank" href="https://www.camsolson.com/">Cameron Olson</a> 2019</p>
				</section>

				<button id="closeMenuButton"><i class="fas fa-times"></i></button>
			</section>

			<section id="equalizer" data-hidden="true">
				<canvas width="800" height="400" id="equalizerCanvas"></canvas>
				<section id="equalizerButtons">
					<button id="resetEqualizerButton"><i class="fas fa-undo"></i></button>
					<button id="closeEqualizerButton"><i class="fas fa-times"></i></button>
				</section>
			</section>

		</main>
	</body>
</html>